# ğŸ† èµ›åšçƒŸèŠ±å¯åŠ¨é¡µ - é›†æˆæŒ‡å—

> **ç‰ˆæœ¬**ï¼šv1.0  
> **å®Œæˆæ—¥æœŸ**ï¼š2025  
> **ç›®å½•**ï¼š`Y:\çƒŸç«æ¼«æ¸¸\Ember_glow_System\Fronted`

---

## ğŸ“‹ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
Fronted/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ FireworksLanding/
â”‚   â”‚       â”œâ”€â”€ index.tsx              â† ä¸»Reactç»„ä»¶
â”‚   â”‚       â””â”€â”€ styles.css             â† ä¸œæ–¹é£æ ¼CSS
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ fireworksEngine.ts        â† çƒŸèŠ±ç²’å­ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ fireworksSequence.ts      â† çƒŸèŠ±åºåˆ—ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ holidaySystem.ts          â† èŠ‚å‡æ—¥ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ textFireworks.ts          â† æ–‡å­—çƒŸèŠ±é…ç½®
â”‚   â”‚   â””â”€â”€ canvasRenderer.ts         â† Canvasæ¸²æŸ“å™¨
â”‚   â”œâ”€â”€ types.ts                      â† TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx                       â† åº”ç”¨ä¸»ç»„ä»¶
â”‚   â””â”€â”€ main.tsx                      â† å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html                        â† HTMLå…¥å£
â”œâ”€â”€ package.json                      â† é¡¹ç›®ä¾èµ–
â”œâ”€â”€ vite.config.ts                    â† Viteé…ç½®
â”œâ”€â”€ tsconfig.json                     â† TypeScripté…ç½®
â””â”€â”€ README.md                         â† æœ¬æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åœ¨æœ¬é¡¹ç›®ä¸­æµ‹è¯•

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd Y:\çƒŸç«æ¼«æ¸¸\Ember_glow_System\Fronted

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000
```

### 2. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

---

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### æ·»åŠ è‡ªå®šä¹‰æ–‡å­—åˆ°æ–‡å­—çƒŸèŠ±

ç¼–è¾‘ `src/utils/textFireworks.ts`ï¼š

```typescript
export const FIREWORK_TEXTS: string[] = [
  'çƒŸç«æ¼«æ¸¸',
  'ä½ çš„è‡ªå®šä¹‰æ–‡å­—',  // â† æ·»åŠ ä½ çš„æ–‡å­—
  'è¯—æ„ç”Ÿæ´»',
  // ... æ›´å¤šæ–‡å­—
]
```

### æ·»åŠ æ–°èŠ‚å‡æ—¥

ç¼–è¾‘ `src/utils/holidaySystem.ts`ï¼š

```typescript
const HOLIDAYS_DATABASE: Record<string, Holiday> = {
  // ... å…¶ä»–èŠ‚å‡æ—¥
  
  // æ–°å¢èŠ‚å‡æ—¥
  newHoliday: {
    name: 'èŠ‚å‡æ—¥åç§°',
    wishes: [
      'ç¥ç¦è¯1',
      'ç¥ç¦è¯2',
    ],
    effectType: 'gold'  // 'gold' | 'red' | 'silver' | 'blue' | 'autumn'
  }
}

// åœ¨ DATE_RANGES ä¸­æ·»åŠ æ—¥æœŸèŒƒå›´
const DATE_RANGES: Record<string, [number, number, number]> = {
  newHoliday: [month, startDay, endDay]  // [æœˆä»½, èµ·å§‹æ—¥, ç»“æŸæ—¥]
}
```

### ä¿®æ”¹é¢œè‰²æ–¹æ¡ˆ

ç¼–è¾‘ `src/components/FireworksLanding/styles.css`ï¼š

```css
.title-zh {
  color: #FDB927;  /* ä¿®æ”¹ä¸­æ–‡æ ‡é¢˜é¢œè‰² */
}

.enter-button {
  background: linear-gradient(135deg, #FDB927 0%, #FF8C42 100%);  /* ä¿®æ”¹æŒ‰é’®é¢œè‰² */
}
```

---

## ğŸ“¦ é›†æˆåˆ°é˜Ÿå‹çš„å‰ç«¯é¡¹ç›®

### æ–¹æ¡ˆ Aï¼šç›´æ¥å¤åˆ¶æ–‡ä»¶ï¼ˆæ¨èï¼‰

1. **å¤åˆ¶æ ¸å¿ƒæ–‡ä»¶åˆ°é˜Ÿå‹é¡¹ç›®**ï¼š

```bash
# ä»ä½ çš„é¡¹ç›®å¤åˆ¶åˆ°é˜Ÿå‹é¡¹ç›®
cp -r Fronted/src/components/FireworksLanding <é˜Ÿå‹é¡¹ç›®>/src/components/
cp Fronted/src/utils/*.ts <é˜Ÿå‹é¡¹ç›®>/src/utils/
cp Fronted/src/types.ts <é˜Ÿå‹é¡¹ç›®>/src/
```

2. **åœ¨é˜Ÿå‹é¡¹ç›®çš„åˆå§‹è·¯ç”±ä¸­ä½¿ç”¨**ï¼š

```tsx
// pages/Landing.tsx (æˆ–ä½ çš„åˆå§‹é¡µé¢)
import React from 'react'
import { useNavigate } from 'react-router-dom'
import FireworksLanding from '@/components/FireworksLanding'

export default function LandingPage() {
  const navigate = useNavigate()

  const handleEnter = () => {
    // è·³è½¬åˆ°ä¸»é¡µé¢
    navigate('/home')
  }

  return (
    <FireworksLanding
      onEnter={handleEnter}
      autoCloseTime={25000}  // 25ç§’åå…è®¸ç‚¹å‡»
    />
  )
}
```

3. **åœ¨è·¯ç”±ä¸­é…ç½®**ï¼š

```tsx
// router/index.tsx
import LandingPage from '@/pages/Landing'
import HomePage from '@/pages/Home'

export const routes = [
  {
    path: '/',
    component: LandingPage,  // å¯åŠ¨é¡µ
  },
  {
    path: '/home',
    component: HomePage,  // ä¸»é¡µ
  },
  // ... å…¶ä»–è·¯ç”±
]
```

### æ–¹æ¡ˆ Bï¼šä½œä¸º npm åŒ…ï¼ˆæœªæ¥ä¼˜åŒ–ï¼‰

å¦‚æœè¦å°†å¯åŠ¨é¡µå‘å¸ƒä¸º npm åŒ…ï¼Œå¯ä»¥æ‰“åŒ…åå‘å¸ƒåˆ°ç§æœ‰åŒ…ç®¡ç†å™¨ã€‚ç›®å‰ä¸éœ€è¦è¿™ä¸€æ­¥ã€‚

---

## ğŸ¨ åŠŸèƒ½è¯¦è§£

### âœ¨ çƒŸèŠ±ç³»ç»Ÿ

**æ”¯æŒ 6 ç§çƒŸèŠ±ç±»å‹**ï¼š

| ç±»å‹ | è¯´æ˜ | è§¦å‘æ–¹å¼ |
|------|------|--------|
| bloom | ç»å…¸ç»½æ”¾å‹ | éšæœºé€‰æ‹© |
| ring | ç¯å½¢æ‰©å±• | éšæœºé€‰æ‹© |
| fountain | å–·æ³‰å‹ | éšæœºé€‰æ‹© |
| chain | é“¾å¼çˆ†ç‚¸ | éšæœºé€‰æ‹© |
| spiral | æ—‹è½¬èŠ±ç« | éšæœºé€‰æ‹© |
| text | æ–‡å­—çƒŸèŠ± | éšæœºé€‰æ‹©(30%æ¦‚ç‡) |

### ğŸ„ èŠ‚å‡æ—¥ç³»ç»Ÿ

**è‡ªåŠ¨æ£€æµ‹çš„èŠ‚å‡æ—¥**ï¼š

- å…ƒæ—¦ (1/1)
- æ˜¥èŠ‚ (å†œå†æ­£æœˆ)
- ç«¯åˆ (å†œå†äº”æœˆ)
- ä¸­ç§‹ (å†œå†å…«æœˆ)
- é‡é˜³ (å†œå†ä¹æœˆ)
- åœ£è¯ (12/24-26)

**ä¸æ”¯æŒçš„èŠ‚å‡æ—¥** (åˆ»æ„æ’é™¤):
- æ¸…æ˜èŠ‚ (ä¸é€‚åˆå–œåº†çƒŸèŠ±)

### ğŸ“ æ–‡å­—çƒŸèŠ±

**éšæœºæ˜¾ç¤ºçš„æ–‡å­—**ï¼š

- å¯åœ¨ `src/utils/textFireworks.ts` ä¸­é…ç½®
- çˆ†ç‚¸åæ˜¾ç¤ºéšæœºé€‰ä¸­çš„æ–‡å­—
- æ”¯æŒ 2-6 ä¸ªå­—ç¬¦ï¼Œé•¿åº¦ä¼šå½±å“æ˜¾ç¤ºå¤§å°

### ğŸ¯ åŠ¨ç”»æ—¶é—´çº¿

```
0s      é¡µé¢åŠ è½½ï¼ŒçƒŸèŠ±å¼€å§‹æ”¾å°„
3s      ä¸­æ–‡æ ‡é¢˜ã€ŠçƒŸç«æ¼«æ¸¸ã€‹æ·¡å…¥
5s      è‹±æ–‡æ ‡é¢˜ã€ŠEmber Glowã€‹æ·¡å…¥
8s      æŒ‰é’®ã€Šè¿›å…¥ç³»ç»Ÿã€‹æ·¡å…¥
18s     çƒŸèŠ±é€æ¸æ¶ˆæ•£
20s     å…è®¸ç”¨æˆ·ç‚¹å‡»ï¼ˆæˆ–è‡ªåŠ¨è·³è½¬ï¼‰
```

---

## ğŸ” æ€§èƒ½æŒ‡æ ‡

- **é¦–å±åŠ è½½æ—¶é—´**ï¼š< 1s
- **Canvas æ¸²æŸ“å¸§ç‡**ï¼š60 FPS (RTX 3060 æµ‹è¯•)
- **æ´»è·ƒç²’å­æ•°**ï¼šæœ€å¤š 1000+ ä¸ª
- **å†…å­˜å ç”¨**ï¼š< 50 MB
- **åŒ…ä½“ç§¯**ï¼šçº¦ 80 KB (gzip å‹ç¼©å)

**ä¼˜åŒ–å»ºè®®**ï¼š
- å¦‚æœéœ€è¦æ”¯æŒä½ç«¯è®¾å¤‡ï¼Œå¯é™ä½ç²’å­æ•°é‡
- åœ¨ `src/utils/fireworksEngine.ts` çš„ `createFirework()` å‡½æ•°ä¸­è°ƒæ•´ `particleCount` å‚æ•°

---

## ğŸ› è°ƒè¯•æ¨¡å¼

åœ¨å¼€å‘ç¯å¢ƒï¼Œå³ä¸‹è§’æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼š

```
çƒŸèŠ±æ•°: 10
èŠ‚å‡æ—¥: å¦
æ–‡å­—çƒŸèŠ±: æœ‰
å¯ç‚¹å‡»: å¦
```

å…³é—­è°ƒè¯•ä¿¡æ¯ï¼šåœ¨ `src/components/FireworksLanding/index.tsx` ä¸­åˆ é™¤è°ƒè¯•ä»£ç å—

---

## ğŸ“± å…¼å®¹æ€§

**æ”¯æŒçš„æµè§ˆå™¨**ï¼š
- Chrome/Edge 90+
- Firefox 88+
- Safari 15+
- ç§»åŠ¨æµè§ˆå™¨ (iOS Safari, Chrome Mobile)

**CSS ç‰¹æ€§**ï¼š
- Canvas 2D
- CSS Grid/Flexbox
- CSS Animation
- CSS Filter
- Linear Gradient

**ä¸æ”¯æŒ**ï¼š
- IE 11 (ä¸æ”¯æŒ ES6+)

---

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ (å¯é€‰):

```env
# å¼€å‘æ¨¡å¼ (æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯)
VITE_DEBUG=true

# çƒŸèŠ±è‡ªåŠ¨å…³é—­æ—¶é—´ (æ¯«ç§’)
VITE_AUTO_CLOSE_TIME=25000
```

---

## ğŸš¨ å¸¸è§é—®é¢˜

### Q: çƒŸèŠ±å¡é¡¿æ€ä¹ˆåŠï¼Ÿ

**A**: è¿™å¯èƒ½æ˜¯ç²’å­æ•°è¿‡å¤šå¯¼è‡´ã€‚ä¿®æ”¹ `src/utils/fireworksEngine.ts` ä¸­çš„ `particleCount`ï¼š

```typescript
const fireworkTypes: FireworkType[] = ['bloom', 'ring', 'fountain', 'chain', 'spiral']
// é™ä½ç²’å­æ•°é‡
particleCount: Math.floor(rng(40, 80))  // ä» 60-120 æ”¹ä¸º 40-80
```

### Q: å­—ä½“æ˜¾ç¤ºä¸å‡ºæ¥ï¼Ÿ

**A**: ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…"æ–¹æ­£æ¥·ä½“"æˆ–"ä»¿å®‹"ã€‚å¤‡ç”¨æ–¹æ¡ˆåœ¨ CSS ä¸­å·²é…ç½®ï¼š

```css
font-family: 'æ–¹æ­£æ¥·ä½“', 'ä»¿å®‹', 'SimSun', serif;
```

### Q: å¦‚ä½•è·³è¿‡å¯åŠ¨é¡µï¼Ÿ

**A**: åœ¨é˜Ÿå‹é¡¹ç›®ä¸­è®¾ç½®è·¯ç”±æ—¶è·³è¿‡ï¼Œæˆ–æ·»åŠ  URL å‚æ•°ï¼š

```tsx
// æ”¯æŒ ?skip=true è·³è¿‡å¯åŠ¨é¡µ
if (new URLSearchParams(window.location.search).get('skip') === 'true') {
  navigate('/home')
}
```

### Q: å¦‚ä½•ä¿®æ”¹è¿›å…¥ç³»ç»ŸæŒ‰é’®çš„è¡Œä¸ºï¼Ÿ

**A**: ä¿®æ”¹ `onEnter` å›è°ƒå‡½æ•°ï¼š

```tsx
<FireworksLanding
  onEnter={() => {
    // è‡ªå®šä¹‰è¡Œä¸ºï¼Œä¾‹å¦‚è·³è½¬ã€APIè°ƒç”¨ç­‰
    navigate('/home')
  }}
/>
```

---

## ğŸ“š ä»£ç è§„èŒƒ

æ‰€æœ‰ä»£ç ä½¿ç”¨ï¼š
- **TypeScript** (strict mode)
- **React 18+**
- **ES6+ è¯­æ³•**
- **ä¸­æ–‡æ³¨é‡Š**

---

## ğŸ“„ è®¸å¯è¯

é¡¹ç›®æºä»£ç ä»…ä¾›"çƒŸç«æ¼«æ¸¸"å›¢é˜Ÿå†…éƒ¨ä½¿ç”¨ã€‚

---

## ğŸ’¡ åç»­ä¼˜åŒ–å»ºè®®

1. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨ WebGL æ›¿ä»£ Canvas 2D (å¦‚æœéœ€è¦è¶…å¤§ç²’å­æ•°)
   - ä½¿ç”¨ Web Worker å¤„ç†ç‰©ç†è®¡ç®—

2. **åŠŸèƒ½æ‰©å±•**ï¼š
   - æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰çƒŸèŠ±é¢œè‰²
   - æ”¯æŒéŸ³æ•ˆé…åˆçƒŸèŠ±
   - æ”¯æŒæŒ‰ç…§åœ°åŸŸæ˜¾ç¤ºåœ°æ–¹ç‰¹è‰²çƒŸèŠ±

3. **ç§»åŠ¨ç«¯ä¼˜åŒ–**ï¼š
   - é™ä½ç§»åŠ¨è®¾å¤‡çš„ç²’å­æ•°é‡
   - é€‚é…æ‰‹æœºç«–å±æ˜¾ç¤º

---

## ğŸ¤ æŠ€æœ¯æ”¯æŒ

æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æºä»£ç ä¸­çš„è¯¦ç»†æ³¨é‡Šï¼

**æ ¸å¿ƒæ–‡ä»¶ä¸­æ–‡æ³¨é‡Šå®Œæ•´ï¼Œæ˜“äºç†è§£å’Œä¿®æ”¹ã€‚** âœ¨

---

*ç¥ä½ çš„çƒŸç«æ¼«æ¸¸ç³»ç»Ÿå¯åŠ¨é¡µå¤§æ”¾å…‰å½©ï¼ğŸ†*

