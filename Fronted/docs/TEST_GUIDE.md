## 🧪 快速测试指南

### 📍 测试农历节日（调试步骤）

#### Step 1: 打开浏览器开发者工具
```
按键: F12 或 Ctrl+Shift+I
选择: Console 选项卡
```

#### Step 2: 测试春节
编辑 `src/utils/holidaySystem.ts` 第14行：
```typescript
// 改为：
const TEST_DATE = new Date('2026-02-17')  // 春节测试
```

保存文件，浏览器自动刷新，查看 Console 输出：

**正确输出应该是：**
```
[Holiday Debug] 检查阳历: 2月17日
[Holiday Debug] 检查农历节假日...
[Lunar Debug] 阳历 2/17/2026 转换为农历: 年=2026 月=1 日=1 闰=false
[Lunar Debug] 匹配到节日: key=1_1 => 春节
[Holiday Debug] ✅ 检测到农历节日: 春节
```

#### Step 3: 测试其他节日

**端午节** (2026年6月9日):
```
const TEST_DATE = new Date('2026-06-09')
// 应该看到: [Lunar Debug] ✅ 匹配到节日: key=5_5 => 端午节
```

**中秋节** (2026年10月1日):
```
const TEST_DATE = new Date('2026-10-01')
// 应该看到: [Lunar Debug] ✅ 匹配到节日: key=8_15 => 中秋节
```

**关闭测试**:
```
const TEST_DATE: Date | null = null
```

---

### 🎨 测试节日特效

1. **春节特效** (爆竹环绕)
   - 设置 `TEST_DATE = new Date('2026-02-17')`
   - 看烟花爆炸后，文字周围是否有红色圆点环绕

2. **元宵特效** (灯光环绕)
   - 设置 `TEST_DATE = new Date('2026-03-03')`
   - 看文字是否被金色灯光包围

3. **七夕特效** (星星飘落)
   - 设置 `TEST_DATE = new Date('2026-08-31')`
   - 看文字周围是否有星星飘落

4. **中秋特效** (月光环绕)
   - 设置 `TEST_DATE = new Date('2026-10-01')`
   - 看文字是否被蓝色月光包围

---

### ❓ 常见问题

**Q: 为什么没有看到特效？**
A: 
1. 确认已选择节日日期（检查 Console 是否有 ✅ 提示）
2. 等待烟花爆炸后（第3-5秒）再看
3. 特效持续时间只有 2 秒

**Q: 农历转换失败怎么办？**
A:
1. 打开 Console
2. 查看 `[Lunar Debug]` 的输出
3. 检查转换结果是否为 `月=1 日=1`（春节应该是这个）
4. 如果不对，可能是算法问题

**Q: 如何添加新节日特效？**
A:
1. 在 `src/utils/canvasRenderer.ts` 中找到 `drawHolidayTextEffect()`
2. 添加新的 `else if` 条件
3. 创建绘制函数（参考现有函数）
4. 返回测试！

---

### 📊 验收清单

- [ ] 加载提示显示 "系统加载中"
- [ ] 烟花开始时加载提示隐藏
- [ ] 烟花数量在 20-28 朵
- [ ] 春节日期检测正确（Console 显示 ✅）
- [ ] 春节有爆竹环绕特效
- [ ] 元宵有灯光环绕特效
- [ ] 七夕有星星飘落特效
- [ ] 中秋有月光环绕特效
- [ ] 文字显示在烟花爆炸位置
- [ ] 帧率稳定 (60fps)

---

**现在就开始测试吧！** 🚀

